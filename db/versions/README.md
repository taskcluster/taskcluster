# Database Versions

The following table lists the database versions with brief descriptions of each.

The "TC Version" column gives the Taskcluster version in which this database version was introduced.
The compatibility invariant dictates that the DB version is compatible with all code from the previous major version through this one.
For example, if DB version 0123 was introduced in Taskcluster version v59.7.1, then it is compatible with all Taskcluster versions v58.0.0 through v59.7.1.
If this invariant is violated, it must be indicated clearly in the changelog.

<!-- AUTOGENERATED DO NOT EDIT -->
| DB Version | TC Version | Description |
| --- | --- | --- |
| [0001](./0001.yml) | v28.0.0 | fake wigets table for DB deployment testing |
| [0002](./0002.yml) | v28.1.0 | define all taskcluster-lib-entities tables and functions |
| [0003](./0003.yml) | v28.1.0 | define all taskcluster-lib-azqueue tables and functions |
| [0004](./0004.yml) | v28.1.0 | fix typestamps in `azure_queue_messages` |
| [0005](./0005.yml) | v28.2.0 | fix ordering of results returned from `azure_queue_get` |
| [0006](./0006.yml) | v28.2.0 | update `azure_queue_count` to count only non-expired rows |
| [0007](./0007.yml) | v28.2.0 | bugfix for `.._scan` taskcluster-lib-entities methods |
| [0008](./0008.yml) | v29.3.0 | introduce `encode/decode_composite_key`, `encode/decode_string_key`, and `entity_buf_encode/decode` |
| [0009](./0009.yml) | v29.3.0 | purge-cache phase 2 |
| [0010](./0010.yml) | v29.4.0 | worker-manager worker pools phase 2 |
| [0011](./0011.yml) | v30.0.0 | drop widgets table from version 1 |
| [0012](./0012.yml) | v30.1.0 | worker-manager workers phase 2 |
| [0013](./0013.yml) | v31.0.0 | add capacity to worker pools |
| [0014](./0014.yml) | v31.0.0 | add secret to workers |
| [0015](./0015.yml) | v32.0.0 | add `sha512` function |
| [0016](./0016.yml) | v32.0.0 | add `uuid_to_slugid` and `slugid_to_uuid` functions |
| [0017](./0017.yml) | v32.0.0 | notify phase 2 step 1+2 |
| [0018](./0018.yml) | v33.0.0 | index phase 2 step 1 |
| [0019](./0019.yml) | v34.0.0 | queue artifacts phase 2 step 1 (slow migration: about 20μs per row in table `queue_artifacts_entities`) |
| [0020](./0020.yml) | v34.0.0 | queue tasks phase 2 step 1 (slow migration: 700-2000μs per row in table `queue_tasks_entities`) |
| [0021](./0021.yml) | v34.0.0 | queue task groups phase 2 step 1 |
| [0022](./0022.yml) | v34.0.0 | queue task dependencies phase 2 step 1 (slow migration: 10μs per row in table `queue_task_dependency_entities`) |
| [0023](./0023.yml) | v35.0.0 | github builds phase 2 |
| [0024](./0024.yml) | v35.0.0 | queue artifacts phase 2 step 2 |
| [0025](./0025.yml) | v35.0.0 | auth roles phase 2 |
| [0026](./0026.yml) | v35.0.0 | index phase 2 step 2 |
| [0027](./0027.yml) | v35.0.0 | web-server github access tokens phase 2 step 1+2 |
| [0028](./0028.yml) | v35.0.0 | queue tasks, task groups, dependencies phase 2 step 2 |
| [0029](./0029.yml) | v35.0.0 | worker-manager worker pools phase 2 |
| [0030](./0030.yml) | v35.0.0 | bugfix for sha512() |
| [0031](./0031.yml) | v35.0.0 | bugfix for get_worker_pool_errors_for_worker_pool |
| [0032](./0032.yml) | v36.0.0 | hooks last-fire phase 2 |
| [0033](./0033.yml) | v36.0.0 | hooks queues phase 2 |
| [0034](./0034.yml) | v36.0.0 | add crypto container functions `entity_to_crypto_container_v0` and `encrypted_entity_buf_encode` |
| [0035](./0035.yml) | v36.0.0 | hooks hooks phase 2 |
| [0036](./0036.yml) | v36.0.0 | github integrations phase 2 |
| [0037](./0037.yml) | v36.0.0 | github checks phase 2 |
| [0038](./0038.yml) | v36.0.0 | web-server sessions phase 2 |
| [0039](./0039.yml) | v36.0.0 | web-server authorization codes phase 2 |
| [0040](./0040.yml) | v36.0.0 | web-server access tokens phase 2 |
| [0041](./0041.yml) | v36.0.0 | auth clients phase 2 |
| [0042](./0042.yml) | v36.0.0 | secrets phase 2 |
| [0043](./0043.yml) | v36.0.0 | queue workers phase 2 |
| [0044](./0044.yml) | v36.0.0 | queue worker types phase 2 |
| [0045](./0045.yml) | v36.0.0 | queue provisioners phase 2 |
| [0046](./0046.yml) | v37.0.0 | fix get_dependent_tasks to return tasks in order |
| [0047](./0047.yml) | v37.2.0 | add get_non_stopped_workers db function |
| [0048](./0048.yml) | v37.3.0 | Add an index on state in the workers table |
| [0049](./0049.yml) | v37.3.0 | Remove unnecessary etag columns from DB tables |
| [0050](./0050.yml) | v37.3.0 | Use worker_pool_id instead of provisioner_id / worker_type for purge-cache |
| [0051](./0051.yml) | v37.3.0 | update get_non_stopped_workers db function to include all fields |
| [0052](./0052.yml) | v37.4.0 | deprecate get_workers |
| [0053](./0053.yml) | v39.0.0 | Use task_queue_id instead of provisioner_id / worker_type in queues |
| [0054](./0054.yml) | v39.0.0 | Add objects table and functions |
| [0055](./0055.yml) | v39.0.0 | Insert object into database, raising P0004 if name already exists, but entire row not identical. |
| [0056](./0056.yml) | v39.1.0 | Add objects.upload_id, upload_expires, and ready columns |
| [0057](./0057.yml) | v39.1.1 | add get_queue_artifacts_paginated with index-based pagination |
| [0058](./0058.yml) | v39.1.1 | make create_github_check idempotent |
| [0059](./0059.yml) | v39.2.0 | Add task_queue_id column to tasks table and populate with online migration |
| [0060](./0060.yml) | v39.2.0 | Drop provisioner_id / worker_type in queues and only use task_queue_id instead |
| [0061](./0061.yml) | v40.0.0 | Deprecate functions that use provisioner_id/worker_type and add equivalents using task_queue_id instead, for tasks table |
| [0062](./0062.yml) | v41.0.0 | add update_queue_artifact_2 to update artifact storage-type as well |
| [0063](./0063.yml) | v41.0.0 | Add `project_id` to tasks table |
| [0064](./0064.yml) | v41.0.1 | Add `queue_worker_seen` and `queue_task_queue_seen` functions |
| [0065](./0065.yml) | v43.0.0 | add `delete_indexed_task` |
| [0066](./0066.yml) | v43.0.0 | add get_non_stopped_workers_with_quarantine to include quarantine info from the queue |
| [0067](./0067.yml) | v43.0.0 | add secure storage of object hashes |
| [0068](./0068.yml) | v43.1.0 | add queue_artifact_present |
| [0069](./0069.yml) | v44.8.3 | update get_queue_artifacts_paginated with improved index usage |
| [0070](./0070.yml) | v44.10.0 | add `get_worker_pool_with_capacity_and_counts_by_state`, `get_worker_pools_with_capacity_and_counts_by_state`, and `update_worker_pool_with_capacity_and_counts_by_state` functions to get worker counts and capacity by state for worker pools |
| [0071](./0071.yml) | v44.11.0 | add provider filter to get_non_stopped_workers_quntil |
| [0072](./0072.yml) | v44.12.0 | add last_date_active to queue_workers |
| [0073](./0073.yml) | v44.15.0 | include worker manager data to in queue worker responses |
| [0074](./0074.yml) | v44.15.3 | get task queue(s) via worker manager service |
| [0075](./0075.yml) | v44.15.4 | fix get_task_queue_wm args |
| [0076](./0076.yml) | v44.16.0 | get github check by check suite id and check run id |
| [0077](./0077.yml) | v44.17.0 | create additional functions to filter workers on state and quarantined status |
| [0078](./0078.yml) | v44.18.0 | fix filtering of static workers based on quarantined status |
| [0079](./0079.yml) | v46.0.0 | Speed up hooks fetching last fires by date |
| [0080](./0080.yml) | v46.1.1 | fix duplicate entries in queue_workers join with workers table |
| [0081](./0081.yml) | (pending release) | seal task group to prevent new tasks from being added to it |
<!-- AUTOGENERATED DO NOT EDIT - END -->
