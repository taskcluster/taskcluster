env:
  global:
  - DEBUG='* -superagent -express:* -mocha:*'
language: node_js
node_js:
- '0.12'
- '4'
- '5'
- '6'
script: npm test

# encrpyt channel name to get around issue
# https://github.com/travis-ci/travis-ci/issues/1094
notifications:
  irc:
    channels:
      # encrpyted string was "irc.mozilla.org#taskcluster-bots"
      - secure: "VLmWi9tCxHoAWocjVVdV5hs6wHJY0hkPZ4AWjvyH3y+QLEeCyj054KNoNc1fYzRmYsgZApQPEbHjCIGBStXLqZiky0IL+LJWRqYHU4zBnwWYBA7a/IjIGoQfK2x/kxOFv3cb4vx2j7VO20gJ2Rh7/RmC8ZLNT7lk8QVrJUvG4LLe9Jwi06EaMxCtQ5opZ6BaIlce7f7MkOaEdamEQltRJniEPz9FpzWARXgkcQM2HCYrbXaTMHYQoYormEoVYLJK6erykBxb4IkSlComctPFk8aeewDf92X2MpBg6brYAXJH51WPutj95bjU/nowTQioX9hG22OAKNPI1aGmtgH27ljXOuVGFPlA8APTYAthZztDOdU0JWKCkElLH5dx2+HGtluCnzltRmK4q7tnMLlv2I0XPFsS0sMJjPgxXAC08Hf4blvLoYt/e4zlqRUcp04xisCk147bFOEdCH2zEEHYe05QnrvX3Nnlx7UxWJfYJWYA6xLbqo89a3Hsw/zDy1cg0/PrGeIyvflqe6TWFxb1QwNba1/+UVGeI0VJ1vIFvZfsJ6S/eYYk+OjXxWI2XvNH+r9cHbh/BYO6q3iFlAv7bF+8x3+PnaZfTshR7M0D9WFC0P8evyKWeWT6IlfdAzM7wtpIqMZJfX9UHL8T5aG0NF1jhInqjmWJ8FLYaTsaojM="
    on_success: change
    on_failure: always
    template:
      - "%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message}"
      - "Change view : %{compare_url}"
      - "Build details : %{build_url}"
      - "Commit message : %{commit_message}"
