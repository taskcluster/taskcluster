language: node_js
sudo: false
node_js:
- '8'
- '9'
- '10'
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
caches:
  yarn: true
env:
  global:
  - DEBUG='taskcluster-lib-monitor test'
  - CXX=g++-4.8
notifications:
  irc:
    channels:
    - secure: Jr+3ft8ZZknJ0Zr1xKwCNEgqMyrFwkMkfJEJo7q8cHvGvRK3iw+GDGj10wjSk8Juf19MkFsICkldHdQEZfCrjAuOhINmqe4mLfkn+RJo/UgVk8K1BcniJdegnZn7laYTpj9Sjs0MySqUJps+UWVIe6kq4dB4Yjrl/2zyLbcwUkQPaYpnfWAm6KoQXuim7Qrsn0isQRj577TzSj2x5IUJ66F8ZbubP8CDIo1RBkfB9ZIeAjrJf5FL7U+/+rZketOVjqDOptrriTJ/eytd14LI5Iw9oZKdX3SXXsPmz3+alG5xb2Jy7lzU96mV6OYD723VQkSnpLQJ+UORfJJhYkXNupfLveFhMiIMWeybGghxUd2s5vZ7prXlC/ldx4fDMkCuEVcXkr7icqvzhEFOYqn+khsrDiQmFNLmOxocyxhG7KtzhUEr+m1XRTqZ+kE5YRG/DGJJNN4kt6+z3+ytLhyXNX0wwV035dUN8UhrKk8+2pE6OvlpaaaD+pb46Q+GT2prloC6j4w5A4I5wQwBByerihb4clO5vOlBtZamgsn5dqSW74ERuZi44hguFQUGBE3wWYdtHYqJo/gX0z+F1wXXWKlozQdkmaVT9z2oiRMgtN/vs8qG4/13M1LVqkmogzNZKBfMuh5BoQkhKOtzeA6+ioHNUfer6DrLxJzT3AALCCs=
    on_success: change
    on_failure: always
    template:
    - "%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message}"
    - 'Change view : %{compare_url}'
    - 'Build details : %{build_url}'
    - 'Commit message : %{commit_message}'
deploy:
  provider: npm
  email: taskcluster-accounts@mozilla.com
  skip_cleanup: true
  api_key:
    secure: ojXQkFMegLdbLVHjMz5NhzASOzUhnQur+54+hldvNSD35sy14bOBAuy+Utobph0D8PD9nX3myIBnvV/pM4fExINffm+k5H4i4jh5Gws5m1SChFz7+vGcVRFcj8l+G75nhObYQZ7nVgf288ZPcuIZrP3bER4WeCcCO0ZD9GMVpBBUxFyJQ+7XjmevsDSv/yEa92EM9qpuP8DpqeHFTYuMghL06C4+dzvh6CMEwMmMvRp7bkqWaldXI2PHF7kMzRWpy+g78nsOYeThc6X85xdk793S4Wzp37ruAbzvBdblJn+E1bLoJfKIxfp0tShcMH76b5wJFdkB5+pCje8Bpaq5hr+R8uDRFqIAdRiZaBuRFxCsgjCaVb1fMTkIo1EQq0JXb5yMfGKGD6AVWqzg7IGwksLY4hLB32z/kM4r48lQo6IAS0HNdGuY97QQ4Ql70up9UlK6UuZa+zneuIs54jE+sR/+NEJAduUFJtNojE4I1efXF3yNBkH1z5wWRUG2bd7tGXrQdYuaIt6LfPhLtoyJWr6ip3arFV29LDIYpWwPMtAf7+hbchlv7m4RblH6XpPsAHNYpV4jEIp0YraWgJ9RrlnCevWzNRaDe6ZFIGU/me+/2tQjNl0a0k2PE052cLvSBNgPWQlqTF87BE8JsBpR48c7GanVPnS4AmzcECchlfY=
  on:
    tags: true
    repo: taskcluster/taskcluster-lib-monitor
