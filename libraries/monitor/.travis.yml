language: node_js
sudo: false
node_js:
  - '0.12'
  - '4'
  - '5'
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-4.8
script: npm test
env:
  global:
    - DEBUG='taskcluster-lib-monitor test'
    - CXX=g++-4.8

notifications:
  irc:
    channels:
      # encrpyted string was "irc.mozilla.org#taskcluster-bots"
      - secure: "Jr+3ft8ZZknJ0Zr1xKwCNEgqMyrFwkMkfJEJo7q8cHvGvRK3iw+GDGj10wjSk8Juf19MkFsICkldHdQEZfCrjAuOhINmqe4mLfkn+RJo/UgVk8K1BcniJdegnZn7laYTpj9Sjs0MySqUJps+UWVIe6kq4dB4Yjrl/2zyLbcwUkQPaYpnfWAm6KoQXuim7Qrsn0isQRj577TzSj2x5IUJ66F8ZbubP8CDIo1RBkfB9ZIeAjrJf5FL7U+/+rZketOVjqDOptrriTJ/eytd14LI5Iw9oZKdX3SXXsPmz3+alG5xb2Jy7lzU96mV6OYD723VQkSnpLQJ+UORfJJhYkXNupfLveFhMiIMWeybGghxUd2s5vZ7prXlC/ldx4fDMkCuEVcXkr7icqvzhEFOYqn+khsrDiQmFNLmOxocyxhG7KtzhUEr+m1XRTqZ+kE5YRG/DGJJNN4kt6+z3+ytLhyXNX0wwV035dUN8UhrKk8+2pE6OvlpaaaD+pb46Q+GT2prloC6j4w5A4I5wQwBByerihb4clO5vOlBtZamgsn5dqSW74ERuZi44hguFQUGBE3wWYdtHYqJo/gX0z+F1wXXWKlozQdkmaVT9z2oiRMgtN/vs8qG4/13M1LVqkmogzNZKBfMuh5BoQkhKOtzeA6+ioHNUfer6DrLxJzT3AALCCs="
    on_success: change
    on_failure: always
    template:
    - "%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message}"
    - 'Change view : %{compare_url}'
    - 'Build details : %{build_url}'
    - 'Commit message : %{commit_message}'
