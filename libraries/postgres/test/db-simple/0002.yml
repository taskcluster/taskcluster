version: 2
migrationScript: |-
  begin
    alter table secrets
      add column expires timestamp not null defeault now() + interval '1000 years';
  end
methods:
  listSecrets:
    mode: read
    args: ''
    returns: table (name text, expires timestamp)
    body: |-
      begin
        return query select secrets.name as name, secrets.expires as expires from secrets;
      end
