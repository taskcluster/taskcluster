id:       http://schemas.taskcluster.net/queue/v1/poll-task-urls-response.json#
$schema:  http://json-schema.org/draft-04/schema#"
title:          "Poll Task Urls Response"
description: |
  Response to request for poll task urls.
type:           object
properties:
  signedPollTaskUrls:
    type:       array
    description: |
      List of signed URLs to poll tasks from, they must be called in the order
      they are given. As the first entry in this array **may** have higher
      priority.
    items:
      type:       string
      format:     uri
      title:      "Signed Get Message URL"
      description: |
        Signed URL to get message from the Azure Queue Storage queue, that holds
        messages for the given `provisionerId` and `workerType`. Note that this
        URL returns XML, see documentation for the Azure Queue Storage
        [REST API](http://msdn.microsoft.com/en-us/library/azure/dd179474.aspx)
        for details. When you have a message you can use `claimTask` to claim
        the task. You will need to parse the XML reponse and base64 decode and
        JSON parse the `MessageText`, also note that `claimTask` requires
        the `PopReceipt` and `MessageId`.
        **Remark**, you are allowed to append `&numofmessages=N`, where N < 32,
        to the URLs if you wish to obtain more than one message at the time.
  expires:
    title:    "Signed URL Expiration"
    description: |
      Date and time after which the signed URLs provided in this response
      expires and not longer works for authentication.
    type:         string
    format:       date-time
required:
  - signedPollTaskUrls
  - expires
