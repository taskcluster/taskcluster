---
title: Cluster Specs
order: 20
---

A *cluster spec* describes how to build a Taskcluster release.

A cluster spec is represented either as a directory containing several `.yml` files, or as a JSON object.
The contents are the same, but the `.yml` format is intended to be human-editable.

# build.yml

The `build.yml` file (or, in a JSON blob, the `build` property) contains a property `repositories` listing the repositories from which the cluster is to be built.

Each element in this array has:

* `name` -- the short name (for services, without a `taskcluster-` prefix; for libraries, the name used with `yarn add`)
* `kind` -- the kind of repository, in other words how it should be built
* `source` -- the source for the repository, in `gitRepo#ref` format
* `docs` -- information about docs and metadata for this repository; either `false` (not documented), `'generated'` (generated by the build process), or an object (to generate the docs automatically).

The docs property, if an object, has properties:

* `tier` -- the documentation tier for this repository
* `menuIndex` -- (optional) the sorting order for this item in the docs index
* `projectName` -- (optional) the projectName under which to list the project

The following kinds are defined:

## `service`

For `kind='service'`, there is an additional `service` property with:

* `buildType` -- the type of service build (see below)

For `buildType == "heroku-buildpack"`, there are additional properties `stack` (the Heroku stack on which the image is based) and `buildpack` (the URL of the buildpack repository).

The tools and docs sites are special-cased with `buildType == "tools-ui"` `buildType == "docs"`, which has the additional property `node` giving the node version.

## `other`

This kind represents repositories that are not built into services or other ouptuts, but may contribute other metadata such as documentation.
